<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <table border="1" width=300 height=100 id="tablesort">
        <tr>
            <td id="1">
                <img id="j" onclick="abc(1)" src="./bb.jpg" alt="do ra me fa">
            </td>


            <td id="2">
                <img id="k" onclick="abc(2)" src="./bb.jpg" alt="do ra me fa">
            </td>


            <td id="3">
                <img id="l" onclick="abc(3)" src="./bb.jpg" alt="do ra me fa">
            </td>


            <td id="4">
                <img id="m" onclick="abc(4)" src="./bb.jpg" alt="do ra me fa">
            </td>


            <td id="5">
                <img id="n" onclick="abc(5)" src="./bb.jpg" alt="do ra me fa">
            </td>

        </tr>

    </table>

    <button style="width: 500;height: 500;" onclick="start()">Start</button>
    <button style="width: 500;height: 500;" onclick="again()">again</button>
    <h1 id="t"></h1>
    <div class="score" id="score"></div>




    <script>
        var table = document.getElementById("tablesort");
        var total = 0;
        var a = 0;
        var counter = 30;

        function d() {
            
           
            a = Math.floor(Math.random() * 5) + 1;

           

            console.log(a , 100000)
        
        }





        function start() {

            console.log(a)
            counter = 30;
            setInterval(function () {
                counter--;
                if (counter >= 0) {
                    f = document.getElementById("t");
                    f.innerHTML = counter;
                    console.log(counter, a)
                    d()
                 
                    if (a == 1) {
                        document.getElementById('j').src =  "./cc.png";

                        setTimeout(() => {

                            document.getElementById("j").src = "./bb.jpg";

                        }, 1000);

                    } else if (a == 2) {
                        document.getElementById("k").src =  "./cc.png";
                        setTimeout(() => {

                            document.getElementById("k").src = "./bb.jpg";
                        }, 1000);

                    } else if (a == 3) {
                        document.getElementById("l").src =  "./cc.png";
                        setTimeout(() => {

                            document.getElementById("l").src = "./bb.jpg";
                        }, 1000);

                    } else if (a == 4) {
                        document.getElementById("m").src =  "./cc.png";
                        setTimeout(() => {

                            document.getElementById("m").src = "./bb.jpg";
                        }, 1000);

                    } else if (a == 5) {
                        document.getElementById("n").src =  "./cc.png";
                        setTimeout(() => {

                            document.getElementById("n").src = "./bb.jpg";
                        }, 1000);
                    }


                }

                if (counter === 0) {
                    alert('時間到')

                }

            }, 2000);


        }

        function abc(number) {
            console.log(number)
            if (number == a) {
                a = 0
                total++;
                ate(total)

            } else {
                a = 0
                ate(total)


            }
        }
        function again() {
            a = 0
            total = 0;
            ate(0)
            zero()

        }
        function zero() {
            document.getElementById('1').style.backgroundColor = "white";
            document.getElementById('2').style.backgroundColor = "white";
            document.getElementById('3').style.backgroundColor = "white";
            document.getElementById('4').style.backgroundColor = "white";
            document.getElementById('5').style.backgroundColor = "white";
        }
        function ate(score) {
            document.getElementById('score').innerHTML = score + "分";
        }




    </script>








</body>

</html>